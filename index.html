<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FluxoPro Brasil | Enterprise Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="default">

<header class="main-header">
    <div class="container header-flex">
        <div class="brand">
            <h1 id="user-brand-name">FluxoPro <span>Brasil</span></h1>
        </div>
        <nav class="main-nav">
            <button onclick="switchTab('config')" id="btn-config" class="nav-btn active">Ajustes</button>
            <button onclick="switchTab('list')" id="btn-list" class="nav-btn">Lan√ßamentos</button>
            <button onclick="switchTab('dash')" id="btn-dash" class="nav-btn">Dashboard</button>
        </nav>
    </div>
</header>

<main class="container content-area">
    <section id="tab-config" class="tab-content active">
        <div class="card card-centered">
            <h2>‚öôÔ∏è Painel de Controle</h2>
            <div class="form-group">
                <label>Tema do Sistema</label>
                <select id="theme-selector" onchange="applyTheme(this.value)">
                    <option value="default">Padr√£o (√çndigo)</option>
                    <option value="dark">Modo Dark</option>
                    <option value="emerald">Empresarial (Verde)</option>
                    <option value="premium">Premium (Dourado/Preto)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Importar Dados (Excel, JSON)</label>
                <input type="file" id="universal-import" accept=".json, .xlsx, .xls">
                <small>O sistema l√™ automaticamente colunas de Data, Valor e Categoria.</small>
            </div>
            <div class="form-group">
                <label>Raz√£o Social</label>
                <input type="text" id="conf-nome" oninput="updateBrand(this.value)">
            </div>
            <button onclick="saveConfig()" class="btn btn-primary btn-block">Salvar Prefer√™ncias</button>
        </div>
    </section>

    <section id="tab-list" class="tab-content">
        <div class="action-bar">
            <button onclick="openModal('modal-entry')" class="btn btn-primary">+ Novo Registro</button>
            <button onclick="openExportModal()" class="btn btn-secondary">üì• Baixar Relat√≥rios</button>
        </div>
        <div class="card table-responsive">
            <table class="data-table">
                <thead>
                    <tr><th>Data</th><th>Tipo</th><th>Categoria</th><th>Valor</th><th>A√ß√µes</th></tr>
                </thead>
                <tbody id="lista-corpo"></tbody>
            </table>
        </div>
    </section>

    <section id="tab-dash" class="tab-content">
        <div class="dash-grid">
            <div class="card chart-card"><h3>Resumo de Caixa</h3><canvas id="chartGeral"></canvas></div>
            <div class="card chart-card"><h3>Sa√∫de Fiscal (MEI)</h3><canvas id="chartMei"></canvas></div>
            <div class="card chart-card"><h3>Despesas por Categoria</h3><canvas id="chartCategorias"></canvas></div>
        </div>
    </section>
</main>

<div id="modal-export" class="modal-overlay">
    <div class="modal-box">
        <h3>Gerar Arquivo de Sa√≠da</h3>
        <p>Selecione o formato desejado para download:</p>
        <div class="export-options" style="display:grid; gap:10px; margin-top:20px;">
            <button onclick="generateExport('excel')" class="btn btn-secondary">üìä Baixar em Excel (.xlsx)</button>
            <button onclick="generateExport('pdf')" class="btn btn-primary">üìÑ Baixar em PDF (Relat√≥rio)</button>
        </div>
        <button class="btn-cancel" onclick="closeModal('modal-export')">Fechar</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<script src="app.js"></script>
</body>
</html>
